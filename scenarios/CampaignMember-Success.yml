scenario: Campaign Member Test with Success status  
description: This test the creation of Lead in Web and validation of campaign member fields in SalesForce. 

tokens:
  testEmail: jlloyd@qa.com
  testLastname: Lloyd
  testFirstname: John
  testCompany: YS Corp
  testSubmit: button[type=submit]

steps:
- step: Navigate to http://go.automatoninc.com/Developer_Success.html
- step: Fill out input[id=FirstName] with {{testFirstname}}
- step: Fill out input[id=LastName] with {{testLastname}}
- step: Fill out input[id=Email] with {{testEmail}}
- step: Fill out input[id=Company] with {{testCompany}}
- step: Submit the form by clicking {{testSubmit}} 
- waitFor: 120
  step: Validate that the salesforce lead {{testEmail}} should have campaign member Status set to Success on campaign 7010b000001Ej51
- step: Validate that the salesforce lead {{testEmail}} should have campaign member LastName set to {{testLastname}} on campaign 7010b000001Ej51
- step: Validate that the salesforce lead {{testEmail}} should have campaign member Email set to {{testEmail}} on campaign 7010b000001Ej51
- step: Delete the {{testEmail}} Marketo lead
- step: Delete the {{testEmail}} Salesforce lead